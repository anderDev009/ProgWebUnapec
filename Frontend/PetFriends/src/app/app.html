<div class="layout">
  <header class="topbar">
    <a routerLink="/" class="brand">PetMatch</a>

    <nav class="nav">
      @for (link of mainLinks; track link.path) {
        <a [routerLink]="link.path" routerLinkActive="active">{{ link.label }}</a>
      }
      @for (link of secondaryLinks(); track link.path) {
        <a [routerLink]="link.path" routerLinkActive="active">{{ link.label }}</a>
      }
    </nav>

    <div class="session">
      @if (isAuthenticated()) {
        <div class="user">
          <span class="name">{{ currentUser()?.name }}</span>
          <span class="role">{{ roleLabel() | uppercase }}</span>
          <button type="button" (click)="logout()">Cerrar sesion</button>
        </div>
      } @else {
        <div class="auth-links">
          <a routerLink="/auth/login">Ingresar</a>
          <a routerLink="/auth/register" class="primary">Registrarme</a>
        </div>
      }
    </div>
  </header>

  <main class="content">
    <router-outlet />
  </main>

  <footer class="footer">
    <div>
      <strong>PetMatch</strong>
      <p>Plataforma MVP para conectar refugios y adoptantes.</p>
    </div>
    <div class="footer__links">
      <a routerLink="/">Inicio</a>
      <a routerLink="/auth/register">Crear cuenta</a>
      <a routerLink="/auth/login">Iniciar sesion</a>
    </div>
    <small>&copy; {{ currentYear }} PetMatch</small>
  </footer>
</div>
